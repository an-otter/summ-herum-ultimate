<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Meine Reisen</title>
</head>
<body style="font-family: sans-serif;">

<div th:replace="~{menu :: navbar}"></div>

<div style="max-width: 800px; margin: 0 auto;">

    <h1>âœˆï¸ Reiseplanung</h1>

    <div style="background-color: #fff3e0; padding: 20px; border-radius: 10px; margin-bottom: 30px;">
        <h3>Neue Reise anlegen</h3>
        <form th:action="@{/saveJourney}" method="post">

            <label>Titel:</label><br>
            <input type="text" name="title" required placeholder="z.B. Sommerurlaub 2025" style="width: 100%; padding: 5px;"><br><br>

            <label>Beschreibung:</label><br>
            <textarea name="description" placeholder="Wo gehts hin?" style="width: 100%; height: 60px;"></textarea><br><br>

            <div style="display: flex; gap: 20px;">
                <div>
                    <label>Start:</label><br>
                    <input type="date" name="startdate" required>
                </div>
                <div>
                    <label>Ende:</label><br>
                    <input type="date" name="enddate" required>
                </div>
            </div>
            <br>

            <label>Wer reist? (User auswÃ¤hlen):</label><br>
            <select name="userId" required style="padding: 5px; width: 200px;">
                <option th:each="user : ${usersListe}"
                        th:value="${user.id}"
                        th:text="${user.username}">
                </option>
            </select>
            <br><br>

            <button type="submit" style="background-color: #FF9800; color: white; border: none; padding: 10px 20px; cursor: pointer;">
                Reise anlegen ğŸ›«
            </button>
        </form>
    </div>

    <hr>

    <h3>Geplante Reisen:</h3>
    <div th:each="journey : ${journeyListe}"
         style="border: 1px solid #ddd; margin: 10px 0; padding: 15px; border-left: 5px solid #FF9800; border-radius: 5px;">

        <h3 th:text="${journey.title}" style="margin-top: 0;">Titel</h3>
        <p style="color: gray;">
            ğŸ“… <span th:text="${journey.startdate}"></span> bis <span th:text="${journey.enddate}"></span>
        </p>
        <p th:text="${journey.description}">Beschreibung...</p>

        <p> style="font-size: 0.9em;">
            GehÃ¶rt zu User: ğŸ‘¤ <strong th:text="${journey.user.username}">Name</strong>
            <span th:if="${journey.user != null}">
                    ğŸ‘¤ <strong th:text="${journey.user.username}">Name</strong>
                </span>

            <span th:if="${journey.user == null}" style="color: red;">
                    ğŸ‘» (Kein User zugeordnet!)
                </span>
        </p>
    </div>

</div>

</body>
</html>